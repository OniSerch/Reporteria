<!DOCTYPE html>
<html>
<head>
    <title>Login</title>
</head>
<body>
    <h2>Login</h2>
    <form id="registerForm">
        Usuario: <input type="text" name="usuario"><br>
        Password: <input type="password" name="password"><br>
        Email: <input type="text" name="email"><br> <!-- CAMBIADO de "correo" a "email" -->
        <button type="submit">Iniciar sesi√≥n</button>
    </form>

    <script>
    document.getElementById("registerForm").onsubmit = async (e) => {
        e.preventDefault();
        const formData = new FormData(e.target);
        const body = JSON.stringify({
            email: formData.get("email"),          // CAMBIADO de "correo" a "email"
            password: formData.get("password"),
            usuario: formData.get("usuario")
        });

        const response = await fetch("/registro", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body
        });

        const result = await response.json();
        alert(result.mensaje);
    };
    </script>
</body>
</html>
